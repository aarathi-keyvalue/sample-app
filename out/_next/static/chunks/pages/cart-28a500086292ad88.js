(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8989:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(1664),i=n.n(r),a=n(7294),c=n(9941),s=n(1163),d=n(2043);var l=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}))})),o=n(5675),u=n.n(o),h=n(5893);function m(e){var t=e.item,n=e.fetchCart;return(0,a.useEffect)((function(){n()}),[]),(0,h.jsxs)("tr",{className:"border-b",children:[(0,h.jsx)("td",{children:(0,h.jsx)(i(),{href:"/product/".concat(t.product.id),children:(0,h.jsxs)("a",{className:"flex items-center",children:[(0,h.jsx)(u(),{src:t.product.image_url,alt:t.product.name,width:50,height:50}),"\xa0",t.product.name]})})}),(0,h.jsx)("td",{className:"p-5 text-right",children:t.quantity}),(0,h.jsxs)("td",{className:"p-5 text-right",children:["$",t.product.price]}),(0,h.jsx)("td",{className:"p-5 text-center",children:(0,h.jsx)("button",{onClick:function(){(0,d.DH)(t.id).then(n)},children:(0,h.jsx)(l,{className:"h-5 w-5"})})})]},t.product.id)}var p=n(5125);function x(){var e=(0,p.$)().t,t=(0,a.useState)(),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]);var l=0;function o(){(0,d.dv)().then((function(e){r(e)}))}var u=(0,s.useRouter)();return(0,h.jsxs)(c.Z,{title:"Shopping Cart",children:[(0,h.jsx)("h1",{className:"mb-4 text-xl",children:"Shopping Cart"}),0===(null===n||void 0===n?void 0:n.cartItems.length)?(0,h.jsxs)("div",{children:["Cart is empty. ",(0,h.jsx)(i(),{href:"/",children:"Go Shopping"})]}):(0,h.jsxs)("div",{className:"grid md:grid-cols-4 md:gap-5",children:[(0,h.jsx)("div",{className:"overflow-x-auto md:col-span-3",children:(0,h.jsxs)("table",{className:"min-w-full",children:[(0,h.jsx)("thead",{className:"border-b",children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)("th",{className:"px-5 text-left",children:[" ",e("item")]}),(0,h.jsxs)("th",{className:"p-5 text-right",children:[" ",e("quantity")]}),(0,h.jsxs)("th",{className:"p-5 text-right",children:[" ",e("price")]}),(0,h.jsxs)("th",{className:"p-5",children:[" ",e("action")]})]})}),(0,h.jsx)("tbody",{children:null===n||void 0===n?void 0:n.cartItems.map((function(e){return(0,h.jsx)(m,{item:e,fetchCart:o},e.product.id)}))})]})}),(0,h.jsx)("div",{className:"mb-5 block rounded-lg border border-gray-200 shadow-md p-5 ",children:(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsxs)("div",{className:"pb-3 text-xl",children:[e("total")," : $",null===n||void 0===n?void 0:n.cartItems.map((function(e){return t=e.quantity,n=e.product.price,void(l+=t*n);var t,n})),l]})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{onClick:function(){return u.push("/shipping")},className:"rounded bg-yellow-300 py-2 px-4 shadow outline-none hover:bg-yellow-400 active:bg-yellow-600 w-full",children:e("checkout")})})]})})]})]})}},9941:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(1664),i=n.n(r),a=n(9008),c=n.n(a),s=(n(7294),n(5675)),d=n.n(s),l=n(5125),o=n(6339),u=n(1161),h=n(5893);function m(e){var t=e.title,n=e.children,r=(0,l.$)(),a=r.t,s=r.i18n;return(0,h.jsx)(o.a,{i18n:s,children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c(),{children:[(0,h.jsxs)("title",{children:[t?t+" - cartique":"cartique"," "]}),(0,h.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,h.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,h.jsxs)("div",{className:"flex min-h-screen flex-col justify-between",children:[(0,h.jsx)("header",{children:(0,h.jsxs)("nav",{className:"flex h-12 items-center px-4 justify-between bg-white shadow-md fixed top-0 left-0 right-0 z-10",children:[(0,h.jsx)(i(),{href:"/",children:(0,h.jsx)("a",{className:"text-lg font-bold",children:"cartique"})}),(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)(i(),{href:"/cart",children:(0,h.jsx)("a",{className:"p-2",children:a("cart")})}),(0,h.jsx)(i(),{href:"/login",children:(0,h.jsx)("a",{className:"p-2",children:a("login")})}),(0,h.jsx)("button",{className:"",onClick:function(){if("en"===s.language)s.changeLanguage("sp");else s.changeLanguage("en")},children:(0,h.jsx)(d(),{src:"/images/language.png",width:"28",height:"25"})})]})]})}),(0,h.jsx)("main",{className:"container m-auto mt-4 px-4",children:n}),(0,h.jsx)(u.$,{})]})]})})}},1161:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});n(7294);var r=n(5675),i=n.n(r),a=n(5893),c=function(){return(0,a.jsxs)("div",{className:"py-2 bg-gray-800",children:[(0,a.jsx)("div",{className:"text-white flex h-10 justify-center items-center shadow-inner",children:(0,a.jsx)("p",{children:"Copyright \xa9 2022 cartique"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("ul",{className:"flex justify-center list-none p-0 m-0",children:[(0,a.jsx)("li",{className:"mx-3",children:(0,a.jsx)(i(),{src:"/icons/twitter-icon.svg",alt:"nextjs",width:"28",height:"28"})}),(0,a.jsx)("li",{className:"mx-3",children:(0,a.jsx)(i(),{src:"/icons/youtube-icon.svg",alt:"youtube",width:"28",height:"29"})}),(0,a.jsx)("li",{className:"mx-3",children:(0,a.jsx)(i(),{src:"/icons/linkedin-icon.svg",alt:"linkedin",width:"28",height:"32"})})]})})]})}},2043:function(e,t,n){"use strict";n.d(t,{o4:function(){return C},DH:function(){return k},dv:function(){return w},gl:function(){return b}});var r,i,a,c,s=n(29),d=n(1383),l=n(7794),o=n.n(l),u=n(7041),h=n(7283),m=n(3243),p=n(4349),x=new m.f({uri:"http://localhost:3000/graphql",cache:new p.h});(0,u.setCookie)("cart",{cartItems:[],id:String});var f=(0,h.Ps)(r||(r=(0,d.Z)(["\n  mutation DeleteCart($id: String!) {\n    deleteCartItem(cartItemId: $id) {\n      id\n      product {\n        name\n      }\n    }\n  }\n"]))),j=(0,h.Ps)(i||(i=(0,d.Z)(["\n  mutation AddToCart($input: AddToCartInput!) {\n    addToCart(addToCart: $input) {\n      id\n      cartItems {\n        product {\n          name\n        }\n      }\n    }\n  }\n"]))),g=(0,h.Ps)(a||(a=(0,d.Z)(["\n  mutation PlaceOrder($input: CreateOrderCascadeInput!) {\n    createOrderWithCascade(createOrderCascadeInput: $input) {\n      id\n      customer {\n        name\n      }\n      orderItems {\n        product {\n          id\n          name\n          price\n        }\n        price\n        quantity\n      }\n    }\n  }\n"]))),v=(0,h.Ps)(c||(c=(0,d.Z)(["\n  query Cart($id: String!) {\n    getCart(id: $id) {\n      id\n      cartItems {\n        id\n        product {\n          id\n          name\n          price\n          image_url\n        }\n        quantity\n      }\n      isOrdered\n    }\n  }\n"])));function w(){return N.apply(this,arguments)}function N(){return(N=(0,s.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("cartId"),e.next=3,x.query({query:v,variables:{id:t},fetchPolicy:"no-cache"});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.getCart);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,s.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=localStorage.getItem("cartId"))||"",e.next=4,x.mutate({mutation:g,variables:{input:{name:t.name,mobileNumber:t.mobileNumber,address:t.address,city:t.city,pincode:t.pincode,country:t.country,cartId:n}}});case 4:r=e.sent,localStorage.setItem("orderId",r.data.createOrderWithCascade.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=localStorage.getItem("cartId"))||"",e.next=4,x.mutate({mutation:j,variables:{input:{id:n,cartItem:{productId:t,quantity:1}}}});case 4:return r=e.sent,localStorage.setItem("cartId",r.data.addToCart.id),e.abrupt("return",r.data.addToCart.id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.mutate({mutation:f,variables:{id:t}});case 2:e.sent,console.log("Cart Item Deleted!!!");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9766:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(8989)}])},1163:function(e,t,n){e.exports=n(9898)}},function(e){e.O(0,[484,554,774,888,179],(function(){return t=9766,e(e.s=t);var t}));var t=e.O();_N_E=t}]);