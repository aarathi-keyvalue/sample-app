(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47],{6510:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(9941),c=n(3026),s=n(1664),i=n.n(s),a=n(5675),d=n.n(a),l=n(7294),o=n(2043),u=n(1163),h=n(5125),p=n(5893);function x(){var e=(0,h.$)().t,t=(0,u.useRouter)().query;console.log("In place-order",t);var n=(0,l.useState)(),s=n[0],a=n[1];(0,l.useEffect)((function(){(0,o.dv)().then((function(e){a(e)}))}),[]);var x=0;return(0,p.jsxs)(r.Z,{title:"Place Order",children:[(0,p.jsx)("h1",{className:"mb-4 text-xl",children:" Place Order "}),(0,p.jsxs)("div",{className:"flex justify-between space-x-10",children:[(0,p.jsxs)("div",{className:"w-5/6",children:[(0,p.jsxs)("div",{className:"px-6 py-5 border-solid border-2  space-y-2 rounded-lg shadow-md ",children:[(0,p.jsxs)("h2",{children:[" ",e("shipping")," "]}),(0,p.jsxs)("p",{children:[" ",t.name,(0,p.jsx)("br",{})," ",t.address,", ",t.city,", ",t.country,","," ",t.pincode,(0,p.jsx)("br",{})," ",t.mobileNumber," "]}),(0,p.jsx)(i(),{href:"/shipping",children:(0,p.jsx)("a",{className:"text-blue-600",children:e("edit")})})]}),(0,p.jsxs)("div",{className:"px-6 py-5 border-solid border-2  space-y-2 rounded-lg shadow-md my-5",children:[(0,p.jsxs)("h2",{children:[" ",e("payment")," "]}),(0,p.jsx)("p",{children:" Cash On Delivery "}),(0,p.jsx)(i(),{href:"/payment",children:(0,p.jsx)("a",{className:"text-blue-600",children:e("edit")})})]}),(0,p.jsxs)("div",{className:"px-6 py-5 border-solid border-2  space-y-2 rounded-lg shadow-md my-5",children:[(0,p.jsxs)("h2",{children:[" ",e("orderitems")," "]}),(0,p.jsxs)("table",{className:"min-w-full",children:[(0,p.jsx)("thead",{className:"border-b",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-5 text-left",children:e("item")}),(0,p.jsx)("th",{className:"p-5 text-center",children:e("quantity")}),(0,p.jsx)("th",{className:"p-5 text-center",children:e("unitprice")}),(0,p.jsx)("th",{className:"p-5 text-center",children:e("subtotal")})]})}),(0,p.jsx)("tbody",{children:null===s||void 0===s?void 0:s.cartItems.map((function(e){return(0,p.jsxs)("tr",{className:"border-b",children:[(0,p.jsx)("td",{children:(0,p.jsx)(i(),{href:"/product/".concat(e.product.id),children:(0,p.jsxs)("a",{className:"flex items-center",children:[(0,p.jsx)(d(),{src:e.product.image_url,alt:e.product.name,width:50,height:50}),"\xa0",e.product.name]})})}),(0,p.jsx)("td",{className:"p-5 text-center",children:e.quantity}),(0,p.jsxs)("td",{className:"p-5 text-center",children:["$",e.product.price]}),(0,p.jsxs)("td",{className:"p-5 text-center",children:["$",e.product.price*e.quantity]})]},e.product.id)}))})]}),(0,p.jsx)(i(),{href:"/cart",children:(0,p.jsx)("a",{className:"text-blue-600",children:e("edit")})})]})]}),(0,p.jsxs)("div",{className:"flex flex-col justify-between px-6 py-5 border-solid border-2 space-y-2 rounded-lg shadow-md h-1/4 w-1/6",children:[(0,p.jsx)("h1",{children:e("summary")}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("p",{children:e("total")}),(0,p.jsxs)("p",{children:["$",null===s||void 0===s?void 0:s.cartItems.map((function(e){return t=e.quantity,n=e.product.price,void(x+=t*n);var t,n})),x]})]}),(0,p.jsxs)(c.zx,{className:" bg-yellow-300 shadow outline-none hover:bg-yellow-400 active:bg-yellow-600",onClick:function(){(0,o.gl)(t),localStorage.removeItem("cartId")},children:[" ",(0,p.jsx)(i(),{href:"/ordersuccess",children:e("placeorder")})," "]})]})]})]})}},9941:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(1664),c=n.n(r),s=n(9008),i=n.n(s),a=(n(7294),n(5675)),d=n.n(a),l=n(5125),o=n(6339),u=n(1161),h=n(5893);function p(e){var t=e.title,n=e.children,r=(0,l.$)(),s=r.t,a=r.i18n;return(0,h.jsx)(o.a,{i18n:a,children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i(),{children:[(0,h.jsxs)("title",{children:[t?t+" - cartique":"cartique"," "]}),(0,h.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,h.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,h.jsxs)("div",{className:"flex min-h-screen flex-col justify-between",children:[(0,h.jsx)("header",{children:(0,h.jsxs)("nav",{className:"flex h-12 items-center px-4 justify-between bg-white shadow-md fixed top-0 left-0 right-0 z-10",children:[(0,h.jsx)(c(),{href:"/",children:(0,h.jsx)("a",{className:"text-lg font-bold",children:"cartique"})}),(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)(c(),{href:"/cart",children:(0,h.jsx)("a",{className:"p-2",children:s("cart")})}),(0,h.jsx)(c(),{href:"/login",children:(0,h.jsx)("a",{className:"p-2",children:s("login")})}),(0,h.jsx)("button",{className:"",onClick:function(){if("en"===a.language)a.changeLanguage("sp");else a.changeLanguage("en")},children:(0,h.jsx)(d(),{src:"/images/language.png",width:"28",height:"25"})})]})]})}),(0,h.jsx)("main",{className:"container m-auto mt-4 px-4",children:n}),(0,h.jsx)(u.$,{})]})]})})}},5578:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(9499),c=n(4730),s=(n(7294),n(5893)),i=["className","children"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=(0,c.Z)(e,i);return(0,s.jsx)("button",d(d({className:"py-2 px-4 rounded ring-opacity-75 focus:ring focus:outline-none text-lg ".concat(n)},a),{},{children:r}))}},1161:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});n(7294);var r=n(5675),c=n.n(r),s=n(5893),i=function(){return(0,s.jsxs)("div",{className:"py-2 bg-gray-800",children:[(0,s.jsx)("div",{className:"text-white flex h-10 justify-center items-center shadow-inner",children:(0,s.jsx)("p",{children:"Copyright \xa9 2022 cartique"})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("ul",{className:"flex justify-center list-none p-0 m-0",children:[(0,s.jsx)("li",{className:"mx-3",children:(0,s.jsx)(c(),{src:"/icons/twitter-icon.svg",alt:"nextjs",width:"28",height:"28"})}),(0,s.jsx)("li",{className:"mx-3",children:(0,s.jsx)(c(),{src:"/icons/youtube-icon.svg",alt:"youtube",width:"28",height:"29"})}),(0,s.jsx)("li",{className:"mx-3",children:(0,s.jsx)(c(),{src:"/icons/linkedin-icon.svg",alt:"linkedin",width:"28",height:"32"})})]})})]})}},3026:function(e,t,n){"use strict";n.d(t,{zx:function(){return c.z},W2:function(){return s}});n(7294);var r=n(5893),c=(n(5675),n(5578)),s=(n(1161),function(e){var t=e.children;return(0,r.jsx)("div",{className:"min-h-screen flex flex-col",children:t})})},2043:function(e,t,n){"use strict";n.d(t,{o4:function(){return O},DH:function(){return C},dv:function(){return b},gl:function(){return w}});var r,c,s,i,a=n(29),d=n(1383),l=n(7794),o=n.n(l),u=n(7041),h=n(7283),p=n(3243),x=n(4349),m=new p.f({uri:"http://localhost:3000/graphql",cache:new x.h});(0,u.setCookie)("cart",{cartItems:[],id:String});var f=(0,h.Ps)(r||(r=(0,d.Z)(["\n  mutation DeleteCart($id: String!) {\n    deleteCartItem(cartItemId: $id) {\n      id\n      product {\n        name\n      }\n    }\n  }\n"]))),j=(0,h.Ps)(c||(c=(0,d.Z)(["\n  mutation AddToCart($input: AddToCartInput!) {\n    addToCart(addToCart: $input) {\n      id\n      cartItems {\n        product {\n          name\n        }\n      }\n    }\n  }\n"]))),y=(0,h.Ps)(s||(s=(0,d.Z)(["\n  mutation PlaceOrder($input: CreateOrderCascadeInput!) {\n    createOrderWithCascade(createOrderCascadeInput: $input) {\n      id\n      customer {\n        name\n      }\n      orderItems {\n        product {\n          id\n          name\n          price\n        }\n        price\n        quantity\n      }\n    }\n  }\n"]))),g=(0,h.Ps)(i||(i=(0,d.Z)(["\n  query Cart($id: String!) {\n    getCart(id: $id) {\n      id\n      cartItems {\n        id\n        product {\n          id\n          name\n          price\n          image_url\n        }\n        quantity\n      }\n      isOrdered\n    }\n  }\n"])));function b(){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("cartId"),e.next=3,m.query({query:g,variables:{id:t},fetchPolicy:"no-cache"});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.getCart);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=localStorage.getItem("cartId"))||"",e.next=4,m.mutate({mutation:y,variables:{input:{name:t.name,mobileNumber:t.mobileNumber,address:t.address,city:t.city,pincode:t.pincode,country:t.country,cartId:n}}});case 4:r=e.sent,localStorage.setItem("orderId",r.data.createOrderWithCascade.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=localStorage.getItem("cartId"))||"",e.next=4,m.mutate({mutation:j,variables:{input:{id:n,cartItem:{productId:t,quantity:1}}}});case 4:return r=e.sent,localStorage.setItem("cartId",r.data.addToCart.id),e.abrupt("return",r.data.addToCart.id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.mutate({mutation:f,variables:{id:t}});case 2:e.sent,console.log("Cart Item Deleted!!!");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7199:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/place-order",function(){return n(6510)}])},1163:function(e,t,n){e.exports=n(9898)},4730:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[484,554,774,888,179],(function(){return t=7199,e(e.s=t);var t}));var t=e.O();_N_E=t}]);